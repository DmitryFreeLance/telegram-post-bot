package com.workspacers.postbot;

import java.nio.charset.StandardCharsets;
import java.security.MessageDigest;

public final class PostContent {
    private PostContent() {}

    public static final String HTML_TEXT = """
<b>–í—Å—Ç—Ä–µ—á–∞ —Å —á–µ–ª–æ–≤–µ–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –≤—Å—ë –∑–Ω–∞–µ—Ç</b> üîÆüéß

üéÅ–ê –≤–æ—Ç –∏ –ø—Ä–µ–¥–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –ø–æ–¥–∞—Ä–æ–∫, –∫–∞–∫ –∏ –æ–±–µ—â–∞–ª–∞ üòçüéÑüéÅ

–£–∂–µ –≤ —ç—Ç–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ —É –≤–∞—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–æ <b>—Å–≤–∏–¥–∞–Ω–∏–µ ‚Äî —Å —Å–∞–º—ã–º –≤–∞–∂–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏!</b>

–í—ã –≤–∏–¥–µ–ª–∏ —Å–µ–±—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã, —Å–ª—ã—à–∞–ª–∏ —Å–≤–æ–π –≥–æ–ª–æ—Å –≤ –∑–∞–ø–∏—Å–∏‚Ä¶–ê –∫–æ–≥–¥–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –≤—ã —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–ª–∏ —Å —Å–æ–±–æ–π –∏–∑ –±—É–¥—É—â–µ–≥–æ?

–ù–µ —Å —Ñ–∞–Ω—Ç–∞–∑–∏–µ–π.
–° —Ä–µ–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è, –∫–æ—Ç–æ—Ä–∞—è —Å–ø—Ä–∞–≤–∏–ª–∞—Å—å. –ö–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—à–ª–∞ —á–µ—Ä–µ–∑ —Ç–µ –∂–µ —Å—Ç—Ä–∞—Ö–∏, –ø—Ä–∏–Ω—è–ª–∞ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –≤–∞—Å —Å –ª—ë–≥–∫–æ–π —É–ª—ã–±–∫–æ–π ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞–µ—Ç, —á–µ–º –≤—Å—ë –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è.

–í—ã –≤—Å—Ç—Ä–µ—Ç–∏—Ç–µ—Å—å —Å —Ç–µ–º, –∫—Ç–æ:
‚úÖ <b>–†–µ—à–∏–ª –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –¥–∏–ª–µ–º–º—ã –∏ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å.</b>
‚úÖ <b>–° –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –≤—ã—Å–ª—É—à–∞–µ—Ç —Å—Ç—Ä–∞—Ö–∏</b> –∏ —Å–∫–∞–∂–µ—Ç: ¬´–Ø –ø—Ä–æ—à—ë–ª —á–µ—Ä–µ–∑ —ç—Ç–æ. –¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è¬ª.
‚úÖ <b>–ü–µ—Ä–µ–¥–∞—Å—Ç –æ—â—É—â–µ–Ω–∏–µ –±—É–¥—É—â–µ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏</b> ‚Äî –∫–∞–∫ –º—ã—à–µ—á–Ω—É—é –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ.

–•–æ—Ç–∏—Ç–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã —Ç–æ–º—É, –∫—Ç–æ —É–∂–µ –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã?
–°–∫–∞—á–∞–π—Ç–µ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å—å <b>¬´–°–≤–∏–¥–∞–Ω–∏–µ —Å –ë—É–¥—É—â–∏–º –Ø¬ª</b> –∏ –≤—ã–¥–µ–ª–∏—Ç–µ –ø–æ–ª—á–∞—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤–∞—à–µ –∑–∞–≤—Ç—Ä–∞‚ú®
""";

    public static final String CTA_URL = "https://t.me/BezzPanikiBot";
    public static final String CTA_TEXT = "–ó–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ \uD83C\uDF81";

    public static String contentHash() {
        // stable hash used to avoid duplicate posting
        return sha256(HTML_TEXT + "|" + CTA_URL + "|" + CTA_TEXT);
    }

    private static String sha256(String s) {
        try {
            MessageDigest md = MessageDigest.getInstance("SHA-256");
            byte[] d = md.digest(s.getBytes(StandardCharsets.UTF_8));
            StringBuilder sb = new StringBuilder();
            for (byte b : d) sb.append(String.format("%02x", b));
            return sb.toString();
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }
}
